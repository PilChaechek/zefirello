# üìù –≠—Ç–∞–ø 5: –ó–∞–¥–∞—á–∏ (Tasks CRUD Feature)

## –¶–µ–ª—å:
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–æ–∑–¥–∞–Ω–∏—è, –ø—Ä–æ—Å–º–æ—Ç—Ä–∞, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–¥–∞—á, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –ø—Ä–æ–µ–∫—Ç–æ–º. –ù–∞—á–∏–Ω–∞–µ–º —Å MVP —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ—Å—Ç–æ–π HTML-—Ç–∞–±–ª–∏—Ü—ã, –∞ –∑–∞—Ç–µ–º –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–º—É DataTable —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π.

### –§–∞–∑–∞ 1: MVP ‚Äî –ë—ç–∫–µ–Ω–¥ –∏ –§—Ä–æ–Ω—Ç–µ–Ω–¥ —Å –ø—Ä–æ—Å—Ç–æ–π —Ç–∞–±–ª–∏—Ü–µ–π (CRUD)

**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –∑–∞–¥–∞—á–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø—Ä–æ–µ–∫—Ç–æ–º. –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π HTML-—Ç–∞–±–ª–∏—Ü–µ.

**–®–∞–≥–∏:**

1.  **–ë—ç–∫–µ–Ω–¥: –û—Å–Ω–æ–≤–∞ –¥–ª—è –ó–∞–¥–∞—á**
    *   **–ú–æ–¥–µ–ª—å –∏ –ú–∏–≥—Ä–∞—Ü–∏—è:** –°–æ–∑–¥–∞—Ç—å –º–æ–¥–µ–ª—å `Task` –∏ –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `tasks`. –í —Ç–∞–±–ª–∏—Ü–µ –±—É–¥—É—Ç –ø–æ–ª—è: `title` (string), `description` (text, nullable), `status` (string, –Ω–∞–ø—Ä–∏–º–µ—Ä, 'todo', 'in_progress', 'done'), `priority` (string, –Ω–∞–ø—Ä–∏–º–µ—Ä, 'low', 'medium', 'high'), –∏ `project_id` (foreign key –¥–ª—è —Å–≤—è–∑–∏ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏).
    *   **–°–∏–¥–µ—Ä (Seeder):** –°–æ–∑–¥–∞—Ç—å —Ñ–∞–±—Ä–∏–∫—É –∏ —Å–∏–¥–µ—Ä –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–¥–∞—á, —á—Ç–æ–±—ã –Ω–∞–º –±—ã–ª–æ —Å —á–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å.
    *   **API –†–µ—Å—É—Ä—Å—ã –∏ –†–æ—É—Ç—ã:** –°–æ–∑–¥–∞—Ç—å `TaskResource` –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –∏ –¥–æ–±–∞–≤–∏—Ç—å `apiResource` –¥–ª—è –∑–∞–¥–∞—á –≤ `routes/api.php`. –ú–∞—Ä—à—Ä—É—Ç –±—É–¥–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–º –≤ –ø—Ä–æ–µ–∫—Ç—ã: `/projects/{project}/tasks`.
    *   **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏ –†–µ–∫–≤–µ—Å—Ç—ã:** –°–æ–∑–¥–∞—Ç—å `TaskController` —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º CRUD-–º–µ—Ç–æ–¥–æ–≤ (`index`, `store`, `show`, `update`, `destroy`). –°–æ–∑–¥–∞—Ç—å `StoreTaskRequest` –∏ `UpdateTaskRequest` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.
    *   **–ü–æ–ª–∏—Ç–∏–∫–∏ (Policies):** –ù–∞—Å—Ç—Ä–æ–∏—Ç—å `TaskPolicy`, —á—Ç–æ–±—ã —Ç–æ–ª—å–∫–æ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –º–æ–≥–ª–∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–¥–∞—á–∞–º–∏.

2.  **–§—Ä–æ–Ω—Ç–µ–Ω–¥: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ CRUD**
    *   **–¢–∏–ø—ã TypeScript:** –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Task` –≤ `resources/js/types/task.ts`.
    *   **–†–æ—É—Ç–∏–Ω–≥:** –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç –≤ `resources/js/router/index.ts` –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–¥–∞—á, –Ω–∞–ø—Ä–∏–º–µ—Ä, `/projects/:id/tasks`.
    *   **–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∑–∞–¥–∞—á –≤ –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é (`AppSidebar.vue`) –∏–ª–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–µ—Ç–∞–ª–µ–π –ø—Ä–æ–µ–∫—Ç–∞.
    *   **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–¥–∞—á (`TaskIndexView.vue`):**
        *   –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–¥–∞—á.
        *   –ù–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å –ø–æ–º–æ—â—å—é `axios` –ø–æ–ª—É—á–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.
        *   –û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –∑–∞–¥–∞—á–∏ –≤ –ø—Ä–æ—Å—Ç–æ–π HTML-—Ç–∞–±–ª–∏—Ü–µ (`<table>`), –∏—Å–ø–æ–ª—å–∑—É—è `v-for`.
    *   **–§–æ—Ä–º–∞ –¥–ª—è –ó–∞–¥–∞—á (`TaskFormDialog.vue`):**
        *   –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏.
        *   –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –±—ç–∫–µ–Ω–¥ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏.
    *   **–î–µ–π—Å—Ç–≤–∏—è (`TaskActions.vue`):**
        *   –°–æ–∑–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –∫–Ω–æ–ø–∫–∞–º–∏ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –∏ "–£–¥–∞–ª–∏—Ç—å" –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ.

---

### –§–∞–∑–∞ 2: –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ DataTable –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

**–¶–µ–ª—å:** –ó–∞–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Å—Ç—É—é —Ç–∞–±–ª–∏—Ü—É –Ω–∞ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `DataTable` –∏ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∏ –ø–æ–∏—Å–∫, –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ shadcn-vue.

**–®–∞–≥–∏:**

1.  **–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ `DataTable`:**
    *   –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `columns.ts` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫ —Ç–∞–±–ª–∏—Ü—ã –∑–∞–¥–∞—á.
    *   –í `TaskIndexView.vue` –∑–∞–º–µ–Ω–∏—Ç—å `<table>` –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `<DataTable>`, –ø–µ—Ä–µ–¥–∞–≤ –≤ –Ω–µ–≥–æ –¥–∞–Ω–Ω—ã–µ –∏ –∫–æ–ª–æ–Ω–∫–∏.
2.  **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏:**
    *   –û–±–Ω–æ–≤–∏—Ç—å `columns.ts`, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ –∫–ª—é—á–µ–≤—ã–º –ø–æ–ª—è–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `priority`, `status`, `created_at`).
3.  **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ü–æ–∏—Å–∫–∞/–§–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:**
    *   –î–æ–±–∞–≤–∏—Ç—å –≤ `TaskIndexView.vue` –ø–æ–ª–µ `Input` –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∑–∞–¥–∞—á–∏.
    *   –ü—Ä–æ–∫–∏–Ω—É—Ç—å –ª–æ–≥–∏–∫—É —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `DataTable`, –∫–∞–∫ –º—ã —ç—Ç–æ –¥–µ–ª–∞–ª–∏ —Ä–∞–Ω–µ–µ.
4.  **–§–∏–ª—å—Ç—Ä—ã –ø–æ –°—Ç–∞—Ç—É—Å—É –∏ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É:**
    *   –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –∏–ª–∏ –≤—ã–ø–∞–¥–∞—é—â–∏–µ —Å–ø–∏—Å–∫–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É, –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ shadcn-vue.
    *   –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ —Å –ø–æ–º–æ—â—å—é `computed` —Å–≤–æ–π—Å—Ç–≤ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤ –Ω–∞ –±—ç–∫–µ–Ω–¥ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.


---
–ú—ã –≤—ã–ø–æ–ª–Ω–∏–ª–∏:
1. –ë—ç–∫–µ–Ω–¥:
    * –ú–æ–¥–µ–ª—å Task –∏ –º–∏–≥—Ä–∞—Ü–∏—è.
    * –§–∞–±—Ä–∏–∫–∞ TaskFactory –∏ —Å–∏–¥–µ—Ä TaskSeeder.
    * TaskResource –∏ –º–∞—Ä—à—Ä—É—Ç—ã projects.tasks.
    * TaskController, StoreTaskRequest, UpdateTaskRequest.
    * TaskPolicy –∏ –µ—ë —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è.
2. –§—Ä–æ–Ω—Ç–µ–Ω–¥:
    * –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Task –≤ resources/js/types/task.ts.
    * –ú–∞—Ä—à—Ä—É—Ç /projects/:slug/tasks –≤ resources/js/router/index.ts.
    * –°—Å—ã–ª–∫–∞ –Ω–∞ –∑–∞–¥–∞—á–∏ –≤ ProjectDetailView.vue.
    * –°—Ç—Ä–∞–Ω–∏—Ü–∞ TaskIndexView.vue —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∑–∞–¥–∞—á –≤ –ø—Ä–æ—Å—Ç–æ–π —Ç–∞–±–ª–∏—Ü–µ.

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —à–∞–≥—É –§–∞–∑—ã 1 ‚Äî —Å–æ–∑–¥–∞–Ω–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `TaskFormDialog.vue`.
